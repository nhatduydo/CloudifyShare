{% extends "base.html" %}
{% block title %}Tin nhắn - CloudifyShare{% endblock %}
{% block content %}

<div class="flex h-[70vh] bg-white rounded-xl shadow-md overflow-hidden">
  <div class="w-1/3 border-r flex flex-col">
    <div class="p-3 border-b">
      <input id="searchUser" type="text" placeholder="Tìm người dùng..."
        class="w-full border rounded-lg px-3 py-2 text-sm focus:ring focus:ring-indigo-200">
    </div>
    <div id="userList" class="flex-1 overflow-y-auto"></div>
  </div>

  <div class="flex-1 flex flex-col">
    <div id="chatHeader" class="p-3 border-b text-gray-700"></div>
    <div id="chatBox" class="flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50">
      <p class="text-gray-500 text-center">Chọn người để bắt đầu trò chuyện</p>
    </div>
    <form id="messageForm" class="border-t p-3 flex items-center gap-2">
      <input id="messageInput" type="text" placeholder="Nhập tin nhắn..."
        class="flex-1 border rounded-lg px-3 py-2 text-sm focus:ring focus:ring-indigo-200">

      <input type="file" id="fileInput" class="hidden">
      <label for="fileInput" class="cursor-pointer text-indigo-600">
        <!-- icon -->
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
          class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
        </svg>
      </label>

      <span id="fileName" class="text-sm text-gray-600"></span>
      <button id="removeFile" type="button" class="text-red-500 text-xs hidden">x</button>

      <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded-lg">Gửi</button>
    </form>

  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/message.js') }}"></script>
{% endblock %}